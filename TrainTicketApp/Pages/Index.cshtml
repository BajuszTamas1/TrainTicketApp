@page
@model TrainTicketApp.Pages.IndexModel
@{
    ViewData["Title"] = "Menetrend keresés";
}

<h1>Vonatmenetrend keresése</h1>

<form method="get">
    <input type="text" name="departure" placeholder="Indulási hely" />
    <input type="text" name="arrival" placeholder="Érkezési hely" />
    <input type="time" name="departureTime" placeholder="Indulási időpont" />
    <input type="submit" value="Keresés" />
</form>

@if (!string.IsNullOrEmpty(Request.Query["departure"]) ||
     !string.IsNullOrEmpty(Request.Query["arrival"]) ||
     !string.IsNullOrEmpty(Request.Query["departureTime"]))
{
    if (Model.Trains != null && Model.Trains.Any())
    {
        <h2>Eredmények:</h2>
        <ul>
            @foreach (var train in Model.Trains)
            {
                <li>@train.DepartureLocation - @train.ArrivalLocation</li>
                <li>Hétfő: @train.Monday.ToString(@"hh\:mm")</li>
                <li>Kedd: @train.Tuesday.ToString(@"hh\:mm")</li>
                <li>Szerda: @train.Wednesday.ToString(@"hh\:mm")</li>
                <li>Csütörtök: @train.Thursday.ToString(@"hh\:mm")</li>
                <li>Péntek: @train.Friday.ToString(@"hh\:mm")</li>
                <li>Szombat: @train.Saturday.ToString(@"hh\:mm")</li>
                <li>Vasárnap: @train.Sunday.ToString(@"hh\:mm")</li>
            }
        </ul>
    }
    else
    {
        <p>Nincs találat a megadott keresési feltételekre.</p>
    }
}